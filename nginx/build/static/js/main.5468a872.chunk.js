(this["webpackJsonpfrontdesk-frontend"]=this["webpackJsonpfrontdesk-frontend"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"close":"\xcenchide","details":"Detalii","filter":"Filtreaz\u0103","login":"Logheaz\u0103-te","export":"Export\u0103","logout":"Delogheaz\u0103-te","register":"Inregistreaz\u0103","next":"Urm\u0103torul","sign":"Click pentru a semna","save":"Salveaz\u0103","clear":"\u0218terge","edit":"Editeaz\u0103","cancel":"Anuleaz\u0103","reset":"Reseteaz\u0103 parola","send":"Trimite","entriesNav":"Intr\u0103ri","tablet":"Tablet\u0103","resetMessage":"Introdu email-ul unde vrei s\u0103 \xee\u021bi trimitem link-ul de verificare","deleteMessage":"E\u0219ti sigur ca vrei s\u0103 \u0219tergi aceast\u0103 intrare?","newPass":"Introdu noua parol\u0103","linkExpired":"Link-ul nu mai este valabil","exportMessage":"E\u0219ti sigur c\u0103 vrei s\u0103 expor\u021bi?","logoutMessage":"E\u0219ti sigur c\u0103 vrei s\u0103 te deloghezi?","startDate":"Dat\u0103 \xeenceput","endDate":"Dat\u0103 sf\xe2r\u0219it","dateFormat":"dd/MM/yyyy","exportFile":"List\u0103-Intr\u0103ri.csv","PREV":"prev","NEXT":"next","yes":"DA","no":"NU","sort":"Sorteaz\u0103","companiesNav":"Companii","addCompany":"Adaug\u0103 o companie","add":"Adaug\u0103","trackingNav":"Tracking","addUser":"Adaug\u0103 un utilizator","usersNav":"Utilizatori","tracking":{"index":"#","name":"Prenume","surname":"Nume","action":"Ac\u021biune","date":"Dat\u0103","table":"Tabel","actions":"Ac\u021biuni","edit":"Editare","delete":"\u0218tergere","add":"Ad\u0103ugare","export":"Exportare","entriesTable":"Tabel intr\u0103ri","companiesTable":"Tabel companii","usersTable":"Tabel utilizatori","login":"Logare","logout":"Delogare"},"companies":{"index":"#","name":"Nume","representative":"Reprezentant","phone":"Telefon","email":"Email","actions":"Ac\u021biuni"},"entries":{"index":"#","name":"Prenume","surname":"Nume","email":"Email","date":"Dat\u0103 intrare","company":"Compania vizitat\u0103","phone":"Telefon","signature":"Semn\u0103tur\u0103","password":"Parola","actions":"Ac\u021biuni","series":"Seria","number":"Num\u0103r","duration":"Durata vizitei","observations":"Observa\u021bii","role":"Rol"},"auth":{"email":"Adresa de email","password":"Parola","new_password":"Parola nou\u0103"},"notifications":{"USER_NOT_FOUND":"Utilizatorul nu a fost g\u0103sit","AUTH_SUCCESS":"Autentificare cu succes","INCORRECT_PASS":"Parol\u0103 incorect\u0103","SERVER_ERROR":"Eroare server","EMAIL_INCORRECT":"Email necorespunz\u0103tor","PASS_INCORRECT":"Parola trebuie sa con\u021bin\u0103 minim un caracter","DATA_ERROR":"Introdu datele \xeen mod corespunz\u0103tor","ENTRY_REGISTRATION":"Te-ai \xeenregistrat cu succes","EMAIL_SENT":"\u021ai-am trimis link-ul de resetare pe mail","IDENTICAL_PASS":"Parolele trebuie s\u0103 fie identice","SUCCESS_PASS":"Ai schimbat parola cu succes","SUCCESS_EDIT":"Modific\u0103rile au fost salvate","ADMIN_REGISTRATION":"Ai inregistrat utilizatorul cu succes","ADMIN_FAIL_REGISTRATION":"Introdu datele \xeen mod corespunz\u0103tor","DATE_ERROR":"Datele de fitrare sunt gre\u0219ite","VALIDATION_ERROR":"Eroare la validare","EMAIL_ALREADY_EXISTS":"Email-ul exist\u0103 deja","PHONE_ALREADY_EXISTS":"Num\u0103rul de telefon exist\u0103 deja","SUCCESS_ADD_COMPANY":"Ai ad\u0103ugat compania cu succes","NAME_ALREADY_EXISTS":"Numele exist\u0103 deja","SIGNATURE_ERROR":"Trebuie s\u0103 semnezi","LOG_ERROR_CREATION":"Log-ul nu a putut fi creat","TOKEN_EXPIRED":"Token-ul a expirat. V\u0103 rug\u0103m sa v\u0103 loga\u021bi din nou"}}')},311:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),o=a(12),c=a(41),l=a(42),u=a(47),d=a(46),m=a(345),h=a(353),j=a(370),b=a(354),p=a(121),g=a(352),O=a.p+"static/media/weSolvvoLogoMotto.e21de293.png",f=a(338),x=a(1),v=Object(f.a)((function(e){return{image:{width:"150px"}}}));var C=function(){var e=v();return Object(x.jsx)("header",{children:Object(x.jsx)("img",{src:O,className:e.image})})},y=a(341),R=a(9),E=a.n(R),N=a(6),A=a(10),S=a(369),k=a(351),D=a(346),w=a(342),I=a(347),T=a(344),_=a(95);a(198);_.a.configure();var P={position:"bottom-right"},W={position:"bottom-right"},L=function(e){return _.a.success(e,P)},U=function(e){return _.a.error(e,W)},F=a(25),B=a.n(F),M=a(15),z=a(155),G={BACKEND_URL:"http://localhost/api",FRONTEND_URL:"http://localhost:3000",DATE_FORMAT:"YYYY/MM/DD",CODES:{ACCESS:202,FORBIDDEN:403},PARSE_INT_RADIX:10,ROWS_PER_PAGE_ARRAY:[15,25,50],INITIAL_ROWS_PER_PAGE:15,DURATION_ARRAY:["00:30 ore","01:00 ore","01:30 ore","02:00 ore","02:30 ore","03:00 ore","03:30 ore","04.00 ore","04:30 ore","05:00 ore","05:30 ore","06:00 ore","06:30 ore","07:00 ore","07:30 ore","08:00 ore"],CANVAS:{HEIGHT:"150",WIDTH:"150"}},Y=a.n(z).a.create({baseURL:G.BACKEND_URL,withCredentials:!0});Y.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){Promise.reject(e)}));var q=Y,H=function(){return function(e){localStorage.removeItem("token"),e({type:"LOGOUT"})}},X=a(58),K=a(16),V={user:"",isLogged:!1},J=a(120),Z=a(156),Q=a(157),$=a.n(Q),ee=a(158),te={key:"root",storage:$.a},ae=Object(J.a)(te,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(K.a)(Object(K.a)({},e),{},{user:t.payload,isLogged:!0});case"LOGOUT":return Object(K.a)(Object(K.a)({},e),{},{user:"",isLogged:!1});default:return e}})),ne=Object(Z.composeWithDevTools)(Object(X.applyMiddleware)(ee.a)),re=Object(X.createStore)(ae,ne),ie=Object(J.b)(re),se=a(20),oe=function(e){if(e.response.status&&e.response.status===y.a.UNAUTHORIZED)re.dispatch(H()),U(se.notifications.TOKEN_EXPIRED);else if(e.response.status&&e.response.status===y.a.FORBIDDEN){var t=e.response.data.field[0];"name"===t?U(se.notifications.NAME_ALREADY_EXISTS):"email"===t?U(se.notifications.EMAIL_ALREADY_EXISTS):"phone"===t&&U(se.notifications.PHONE_ALREADY_EXISTS)}else U(se.notifications.SERVER_ERROR)},ce=a(20),le=Object(f.a)((function(e){return{resetLink:{color:"#3f50b5",display:"flex",justifyContent:"flex-end",marginTop:"2%",cursor:"pointer",fontSize:"1.05rem","&:hover":{color:"#0e24a1"}},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginRight:"24px",marginTop:"16px"},buttonContainer:{display:"flex",justifyContent:"space-between"},actionsContainer:{display:"flex",justifyContent:"space-between",marginLeft:"1em",marginRight:"1em"}}}));var ue=Object(M.b)(null,(function(e){return{sendEmail:function(t){return e(function(e){return function(t){return q.post("/reset",{email:e}).then((function(e){return e.data})).catch(oe)}}(t))}}}))((function(e){var t=r.a.useState(!1),a=Object(A.a)(t,2),n=a[0],i=a[1],s=r.a.useState(""),o=Object(A.a)(s,2),c=o[0],l=o[1],u=le(),d=function(){i(!1)};return Object(x.jsxs)("div",{children:[Object(x.jsx)(w.a,{className:u.resetLink,variant:"contained",color:"primary",onClick:function(){i(!0)},children:ce.reset}),Object(x.jsxs)(S.a,{open:n,"aria-labelledby":"form-dialog-title",children:[Object(x.jsxs)("div",{className:u.buttonContainer,children:[Object(x.jsx)(T.a,{id:"form-dialog-title",children:ce.reset}),Object(x.jsx)(m.a,{onClick:d,className:u.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsxs)(D.a,{children:[Object(x.jsx)(I.a,{children:ce.resetMessage}),Object(x.jsx)(j.a,{autoFocus:!0,margin:"dense",id:"name",label:ce.auth.email,type:"email",fullWidth:!0,onChange:function(e){l(e.target.value)}})]}),Object(x.jsxs)(k.a,{className:u.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:d,children:ce.cancel}),Object(x.jsx)(m.a,{onClick:function(){d(),e.sendEmail(c).then((function(e){var t=e.status,a=e.code;t===ce.notifications.USER_NOT_FOUND&&a===y.a.FORBIDDEN?U(ce.notifications.USER_NOT_FOUND):t===ce.notifications.AUTH_SUCCESS&&a===y.a.OK&&L(ce.notifications.EMAIL_SENT)}))},color:"primary",variant:"contained",children:ce.send})]})]})]})})),de=(a(20),function(e,t,a,n){return function(r){var i={name:e,surname:t,action:a,table:n,date:new Date};return q.post("/tracking",{tracking:i}).then((function(e){return Object(K.a)({},e.data)})).catch(oe)}}),me=a(20),he=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",role:""},e.onChange=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e.handleLogin=function(){var t=E.a.isEmail(e.state.email),a=!E.a.isEmpty(e.state.password);if(t&&a){var n={user:e.state};e.props.login(n).then((function(t){t.userFound?("super"===t.userFound.role?e.props.history.push("/tracking"):e.props.history.push("/entries"),localStorage.setItem("token",t.token),e.props.createLog(e.props.user.name,e.props.user.surname,me.tracking.login,me.tracking.usersTable)):t.code===y.a.FORBIDDEN&&t.status===me.notifications.USER_NOT_FOUND?U(me.notifications.USER_NOT_FOUND):t.code===y.a.FORBIDDEN&&t.status===me.notifications.INCORRECT_PASS?U(me.notifications.INCORRECT_PASS):U(me.notifications.SERVER_ERROR)}))}else U(t?me.notifications.PASS_INCORRECT:me.notifications.EMAIL_INCORRECT)},e.onRegisterButtonClick=function(){e.props.history.push("/register")},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:t.header,children:Object(x.jsx)(C,{})}),Object(x.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(h.a,{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{component:"h1",variant:"h5",children:me.login}),Object(x.jsxs)("form",{noValidate:!0,children:[Object(x.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:me.auth.email,name:"email",autoComplete:"email",autoFocus:!0,onChange:this.onChange}),Object(x.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:me.auth.password,type:"password",id:"password",autoComplete:"current-password",onChange:this.onChange,onKeyPress:function(t){return"Enter"===t.key?e.handleLogin():null}}),Object(x.jsx)(m.a,{fullWidth:!0,onClick:this.handleLogin,children:me.login}),Object(x.jsx)(ue,{}),Object(x.jsx)(b.a,{container:!0,children:Object(x.jsx)(b.a,{item:!0})})]})]})]})]})}}]),a}(r.a.Component),je=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{login:function(t){return e(function(e){return function(t){return q.post("/auth",e).then((function(e){return e.data.userFound&&t({type:"LOGIN",payload:e.data.userFound}),e.data})).catch(oe)}}(t))},createLog:function(t,a,n,r){return e(de(t,a,n,r))}}}))(Object(N.a)((function(e){return{button:{display:"flex",justifyContent:"space-between"},header:{display:"flex",justifyContent:"center",marginTop:"1em",marginBottom:"1em"}}}))(he)),be=a(71),pe=a(20),ge=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(x.jsxs)("div",{children:[Object(x.jsx)(m.a,{onClick:function(){return e.handleClickOpen()},children:pe.sign}),Object(x.jsxs)(S.a,{open:this.state.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"md",fullWidth:!0,children:[Object(x.jsx)("div",{className:t.buttons,children:Object(x.jsx)(m.a,{onClick:this.handleClose,className:t.closeIcon,children:Object(x.jsx)(B.a,{})})}),Object(x.jsx)(D.a,{children:Object(x.jsx)(be.a,{ref:function(t){return e.saveableCanvas=t},brushColor:"#009933",brushRadius:3,canvasWidth:910,canvasHeight:400})}),Object(x.jsxs)(k.a,{className:t.actionsContainer,children:[Object(x.jsx)(m.a,{variant:"contained",onClick:function(){e.saveableCanvas.clear()},children:pe.clear}),Object(x.jsx)(m.a,{onClick:function(){JSON.parse(e.saveableCanvas.getSaveData()).lines.length?(localStorage.setItem("savedDrawing",e.saveableCanvas.getSaveData()),e.handleClose(),e.props.showDrawing()):U(pe.notifications.SIGNATURE_ERROR)},children:pe.save})]})]})]})}}]),a}(r.a.Component),Oe=Object(N.a)((function(e){return{buttons:{display:"flex",justifyContent:"flex-end"},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},width:"2.3em",marginRight:"1.6em",minWidth:"1em"},actionsContainer:{display:"flex",justifyContent:"space-between",marginLeft:"1em",marginRight:"1em"}}}))(ge),fe=a(355),xe=a(356),ve=a(165),Ce=a.n(ve),ye=a(119),Re=a.n(ye),Ee=a(18),Ne=a(162),Ae=a(164),Se=a.n(Ae),ke=a(163),De=a.n(ke),we=a(20),Ie=Object(f.a)((function(e){return{export:{color:"white",textDecoration:"none"},logout:{marginTop:"0.5em",backgroundColor:"inherit","&:hover":{backgroundColor:"#DADADA"}},powerIcon:{color:"black"},deleteButton:{backgroundColor:"inherit",height:"1.5rem",width:"1.5rem",minWidth:"1rem","&:hover":{backgroundColor:"#DADADA"},color:"black"},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginRight:"24px",marginTop:"16px"},buttonContainer:{display:"flex",justifyContent:"space-between"},exportButton:{marginTop:"2em"},actionsContainer:{display:"flex",justifyContent:"space-between",marginLeft:"1em",marginRight:"1em"}}}));var Te=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))}}}))((function(e){var t=r.a.useState(!1),a=Object(A.a)(t,2),n=a[0],i=a[1],s=function(e){i(!0)},o=function(e){i(!1)},c=Ie();return Object(x.jsxs)("div",{children:["delete"===e.type?Object(x.jsx)(m.a,{className:c.deleteButton,onClick:s,children:Object(x.jsx)(De.a,{})}):"export"===e.type?Object(x.jsx)(m.a,{onClick:s,className:c.exportButton,children:we.export}):"logout"===e.type?Object(x.jsx)(m.a,{onClick:s,className:c.logout,children:Object(x.jsx)(Se.a,{className:c.powerIcon})}):null,Object(x.jsx)(S.a,{open:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:"delete"===e.type?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:c.buttonContainer,children:[Object(x.jsx)(T.a,{id:"alert-dialog-title",children:we.clear}),Object(x.jsx)(m.a,{onClick:o,className:c.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsx)(D.a,{children:Object(x.jsx)(I.a,{id:"alert-dialog-description",children:we.deleteMessage})}),Object(x.jsxs)(k.a,{className:c.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:o,autoFocus:!0,children:we.no}),Object(x.jsx)(m.a,{onClick:function(){o(),e.onDeleteButton()},children:we.yes})]})]}):"export"===e.type?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:c.buttonContainer,children:[Object(x.jsx)(T.a,{id:"alert-dialog-title",children:we.export}),Object(x.jsx)(m.a,{onClick:o,className:c.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsx)(D.a,{children:Object(x.jsx)(I.a,{id:"alert-dialog-description",children:we.exportMessage})}),Object(x.jsxs)(k.a,{className:c.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:o,autoFocus:!0,children:we.no}),Object(x.jsx)(Ne.CSVLink,{data:e.data,className:c.export,filename:we.exportFile,children:Object(x.jsx)(m.a,{onClick:function(){o(),e.createLog(e.user.name,e.user.surname,we.tracking.export,we.tracking.entriesTable)},children:we.yes})})]})]}):"logout"===e.type?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:c.buttonContainer,children:[Object(x.jsx)(T.a,{id:"alert-dialog-title",children:we.logout}),Object(x.jsx)(m.a,{onClick:o,className:c.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsx)(D.a,{children:Object(x.jsx)(I.a,{id:"alert-dialog-description",children:we.logoutMessage})}),Object(x.jsxs)(k.a,{className:c.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:o,autoFocus:!0,children:we.no}),Object(x.jsx)(m.a,{onClick:function(t){o(),e.onLogOutButton()},children:we.yes})]})]}):null})]})})),_e=a(167),Pe=a.n(_e),We=a(166),Le=a.n(We),Ue=a(168),Fe=a.n(Ue),Be=a(20),Me=Object(f.a)((function(e){return{root:{width:"100%",marginBottom:"1em"},title:{flexGrow:1,marginLeft:"2.5%"},button:{marginTop:"0.5em",backgroundColor:"inherit","&:hover":{backgroundColor:"#DADADA"},marginRight:"1em"},selectedButton:{marginTop:"0.5em",backgroundColor:"#DADADA","&:hover":{backgroundColor:"#DADADA"},marginRight:"1em"},powerIcon:{color:"black"},tabletIcon:{fontSize:"1rem",marginRight:"5%"},entriesIcon:{fontSize:"1.2rem",marginRight:"5%"},companyIcon:{fontSize:"1.2rem",marginRight:"5%"},registerIcon:{fontSize:"1.2rem",marginRight:"5%"},paddingToolbar:{paddingLeft:"0px",paddingRight:"0px"},navButtonsContainer:{display:"flex",justifyContent:"flex-end",marginRight:"2.5%"}}}));var ze=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{logout:function(){return e(H())},createLog:function(t,a,n,r){return e(de(t,a,n,r))}}}))((function(e){var t=Me(),a=Object(Ee.g)();return Object(x.jsx)("div",{className:t.root,children:Object(x.jsx)(fe.a,{position:"sticky",color:"default",children:Object(x.jsxs)(xe.a,{className:t.paddingToolbar,children:[Object(x.jsx)("div",{className:t.title,children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:t.navButtonsContainer,children:["user"===e.user.role?Object(x.jsxs)("div",{children:[Object(x.jsxs)(m.a,{className:"/entries"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/entries")},color:"inherit",children:[Object(x.jsx)(Re.a,{className:t.entriesIcon}),Be.entriesNav]}),Object(x.jsxs)(m.a,{className:"/tablet"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/tablet")},color:"inherit",children:[Object(x.jsx)(Ce.a,{className:t.tabletIcon}),Be.tablet]})]}):"super"===e.user.role?Object(x.jsxs)("div",{children:[Object(x.jsxs)(m.a,{className:"/entries"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/entries")},color:"inherit",children:[Object(x.jsx)(Re.a,{className:t.entriesIcon}),Be.entriesNav]}),Object(x.jsxs)(m.a,{className:"/tracking"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/tracking")},color:"inherit",children:[Object(x.jsx)(Le.a,{className:t.registerIcon}),Be.trackingNav]}),Object(x.jsxs)(m.a,{className:"/companies"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/companies")},color:"inherit",children:[Object(x.jsx)(Pe.a,{className:t.companyIcon}),Be.companiesNav]}),Object(x.jsxs)(m.a,{className:"/users"===e.path?t.selectedButton:t.button,onClick:function(){return a.push("/users")},color:"inherit",children:[Object(x.jsx)(Fe.a,{className:t.companyIcon}),Be.usersNav]})]}):null,Object(x.jsx)(Te,{type:"logout",onLogOutButton:function(){e.createLog(e.user.name,e.user.surname,Be.tracking.logout,Be.tracking.usersTable).then((function(t){e.logout()}))}})]})]})})})})),Ge=a(371),Ye=a(372),qe=a(350),He=a(366),Xe=(a(20),function(e,t){return function(a){return q.get("/companies/?page=".concat(e,"&rows=").concat(t)).then((function(e){return Object(K.a)({},e.data)}))}}),Ke=a(20),Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:"",surname:"",email:"",phone:"",company:"",show:!1,series:"",number:"",duration:"",observations:"",fields:{errorName:!1,errorSurname:!1,errorEmail:!1,errorCompany:!1,errorPhone:!1,errorSignature:!1,errorSeries:!1,errorNumber:!1,errorDuration:!1,errorObservations:!1},companies:[]},e.showDrawing=function(){e.setState({show:!0})},e.onChange=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e.handleChange=function(t){e.setState({company:t.target.value})},e.handleEntries=function(){var t=!0,a=0,n={errorName:!1,errorSurname:!1,errorEmail:!1,errorCompany:!1,errorPhone:!1,errorSignature:!1,errorSeries:!1,errorNumber:!1,errorDuraion:!1};if(Object.entries(e.state.fields).forEach((function(r){var i=Object(A.a)(r,2),s=i[0];i[1];switch(s){case"errorSurname":E.a.isAlpha(e.state.surname)||(t=!1,n.errorSurname=!0,a++);break;case"errorName":E.a.isAlpha(e.state.name)||(t=!1,n.errorName=!0,a++);break;case"errorEmail":E.a.isEmail(e.state.email)||(t=!1,n.errorEmail=!0,a++);break;case"errorCompany":E.a.isEmpty(e.state.company)&&(t=!1,n.errorCompany=!0,a++);break;case"errorPhone":E.a.isMobilePhone(e.state.phone)||(t=!1,n.errorPhone=!0,a++);break;case"errorSignature":!1===e.state.show&&(t=!1,n.errorSignature=!0,a++);break;case"errorSeries":E.a.isAlpha(e.state.series)&&e.state.series.length>0&&e.state.series.length<3||(t=!1,n.errorSeries=!0,a++);break;case"errorNumber":E.a.isNumeric(e.state.number)&&6===e.state.number.length||(t=!1,n.errorNumber=!0,a++);break;case"errorDuration":E.a.isEmpty(e.state.duration)&&(t=!1,n.errorDuration=!0,a++)}})),e.setState({fields:n}),t){var r={name:e.state.name,surname:e.state.surname,email:e.state.email,phone:e.state.phone,company:e.state.company,signature:localStorage.getItem("savedDrawing"),series:e.state.series,number:e.state.number,duration:e.state.duration,observations:e.state.observations,date:new Date};e.setState({name:"",surname:"",email:"",phone:"",company:"",series:"",number:"",duration:"",observations:"",show:!1}),e.props.createUser(r).then((function(e){L(Ke.notifications.ENTRY_REGISTRATION)}))}else 1===a&&n.errorSignature?U(Ke.notifications.SIGNATURE_ERROR):U(Ke.notifications.DATA_ERROR)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getCompanies().then((function(t){e.setState({companies:t[0]})}))}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(x.jsxs)("div",{className:t.fullHeight,children:[this.props.user?Object(x.jsx)(ze,{showTabletButton:!0,showLogoutButton:!0,path:this.props.location.pathname}):Object(x.jsx)("div",{className:t.header,children:Object(x.jsx)(C,{})}),Object(x.jsxs)("div",{className:t.tabletForm,children:[Object(x.jsx)(j.a,{error:this.state.fields.errorName,margin:"normal",required:!0,fullWidth:!0,id:"name",label:Ke.entries.name,name:"name",autoComplete:"name",autoFocus:!0,onChange:this.onChange,value:this.state.name}),Object(x.jsx)(j.a,{error:this.state.fields.errorSurname,margin:"normal",required:!0,fullWidth:!0,id:"surname",label:Ke.entries.surname,name:"surname",autoComplete:"surname",onChange:this.onChange,value:this.state.surname}),Object(x.jsxs)("div",{className:t.flexContainer,children:[Object(x.jsx)(j.a,{className:t.identityFields,error:this.state.fields.errorSeries,margin:"normal",required:!0,fullWidth:!0,id:"name",label:Ke.entries.series,name:"series",autoComplete:"name",onChange:this.onChange,value:this.state.series}),Object(x.jsx)(j.a,{error:this.state.fields.errorNumber,margin:"normal",required:!0,fullWidth:!0,id:"name",label:Ke.entries.number,name:"number",autoComplete:"name",onChange:this.onChange,value:this.state.number})]}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:this.state.fields.errorDuration,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:Ke.entries.duration}),Object(x.jsx)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.duration,onChange:this.onChange,name:"duration",children:G.DURATION_ARRAY.map((function(e,a){return Object(x.jsx)(Ye.a,{className:t.menuItem,value:e,children:e})}))})]}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:this.state.fields.errorCompany,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:Ke.entries.company}),Object(x.jsx)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.company,onChange:this.onChange,name:"company",children:this.state.companies.length?this.state.companies.map((function(e,a){return Object(x.jsx)(Ye.a,{className:t.menuItem,value:e.name,children:e.name})})):null})]}),Object(x.jsxs)("div",{className:this.state.show?t.gridContainer:null,children:[Object(x.jsx)(j.a,{className:t.email,error:this.state.fields.errorEmail,margin:"normal",fullWidth:!0,required:!0,id:"email",label:Ke.entries.email,name:"email",autoComplete:"email",onChange:this.onChange,value:this.state.email}),this.state.show?Object(x.jsx)(be.a,{canvasHeight:G.CANVAS.HEIGHT,canvasWidth:G.CANVAS.WIDTH,disabled:!0,hideGrid:!0,ref:function(t){return e.loadableCanvas=t},saveData:localStorage.getItem("savedDrawing"),loadTimeOffset:2,className:t.sign}):null,Object(x.jsx)(j.a,{className:t.phone,error:this.state.fields.errorPhone,fullWidth:!0,margin:"normal",required:!0,id:"phone",label:Ke.entries.phone,name:"phone",autoComplete:"phone",onChange:this.onChange,value:this.state.phone})]}),Object(x.jsx)(j.a,{margin:"normal",fullWidth:!0,id:"name",label:Ke.entries.observations,name:"observations",autoComplete:"name",onChange:this.onChange,value:this.state.observations})]}),Object(x.jsx)("div",{className:t.buttonsContainer,children:Object(x.jsxs)("div",{className:t.buttons,children:[Object(x.jsx)(Oe,{showDrawing:this.showDrawing,error:this.state.fields.errorSignature}),Object(x.jsx)(m.a,{className:t.nextButton,onClick:function(){e.handleEntries()},children:Ke.next})]})})]})}}]),a}(r.a.Component),Je=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{getCompanies:function(){return e(Xe())},createUser:function(t){return e(function(e){return function(t){return q.post("/tablet",{entry:e}).then((function(e){return Object(K.a)({},e.data)})).catch(oe)}}(t))}}}))(Object(N.a)((function(e){return{nextButton:{backgroundColor:"#336600","&:hover":{backgroundColor:"#264d00"},marginRight:"0 "},flexContainer:{display:"flex"},gridContainer:{display:"grid",width:"100%",height:"10em",gridTemplateAreas:"\n                          'email sign'\n                          'phone sign'\n                        ",gridTemplateColumns:"1fr 250px",gridTemplateRows:"1fr 1fr"},email:{gridArea:"email"},phone:{gridArea:"phone"},sign:{gridArea:"sign",marginTop:"1em",marginLeft:"3.5em"},buttonsContainer:{position:"absolute",bottom:"1em",left:"2.5%",right:"2.5%"},buttons:{display:"flex",justifyContent:"space-between"},tabletForm:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",width:"95%"},identityFields:{width:"10%",marginRight:"2%"},fullHeight:{height:"100%"},menuItem:{justifyContent:"space-evenly"},header:{marginLeft:"2.5%"}}}))(Ve)),Ze=a(20);var Qe=Object(M.b)(null,(function(e){return{checkToken:function(t){return e(function(e){return function(t){return q.get("reset/".concat(e)).then((function(e){return e.data})).catch(oe)}}(t))},updatePassword:function(t,a){return e(function(e,t){return function(a){return q.put("/reset/".concat(e),{password:t}).then((function(e){return e.data})).catch(oe)}}(t,a))}}}))((function(e){var t=Object(Ee.h)(),a=t.TOKEN,r=t.ID,i=Object(n.useState)(!1),s=Object(A.a)(i,2),o=s[0],c=s[1],l=Object(n.useState)(""),u=Object(A.a)(l,2),d=u[0],b=u[1],O=Object(n.useState)(""),f=Object(A.a)(O,2),v=f[0],R=f[1],N=Object(Ee.g)();Object(n.useEffect)((function(){S()}),[a]);var S=function(){e.checkToken(a).then((function(e){e!==y.a.OK&&c(!0)}))},k=function(e){"firstPass"===e.target.name?b(e.target.value):R(e.target.value)};return o?Object(x.jsxs)("div",{children:[Object(x.jsx)(C,{}),Object(x.jsx)(g.a,{component:"main",maxWidth:"xs",children:Object(x.jsx)(p.a,{component:"h1",variant:"h5",children:Ze.linkExpired})})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)(C,{}),Object(x.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(x.jsx)(h.a,{}),Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{component:"h1",variant:"h5",children:Ze.newPass}),Object(x.jsxs)("form",{noValidate:!0,children:[Object(x.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:Ze.auth.new_password,name:"firstPass",autoComplete:"password",type:"password",autoFocus:!0,onChange:k}),Object(x.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"secondPass",label:Ze.auth.new_password,type:"password",id:"password",autoComplete:"current-password",onChange:k}),Object(x.jsx)(m.a,{fullWidth:!0,onClick:function(){if(E.a.isEmpty(d)||E.a.isEmpty(v))U(Ze.notifications.ENTRY_ERROR);else if(d!==v)U(Ze.notifications.IDENTICAL_PASS);else{var t=d;e.updatePassword(r,t).then((function(e){N.push("/"),L(Ze.notifications.SUCCESS_PASS)}))}},children:Ze.reset})]})]})]})]})})),$e=a(116),et=a(359),tt=a(363),at=a(362),nt=a(358),rt=a(360),it=a(361),st=a(70),ot=a.n(st),ct=(a(310),a(368)),lt=a(169),ut=a.n(lt),dt=(a(20),a(20)),mt=Object(f.a)((function(e){return{editButton:{backgroundColor:"inherit","&:hover":{backgroundColor:"#DADADA"},color:"black",height:"1.5rem",width:"1.5rem",minWidth:"1rem",marginRight:"0.5em"},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginTop:"16px",marginRight:"24px"},buttonContainer:{display:"flex",justifyContent:"space-between"},actionsContainer:{display:"flex",justifyContent:"space-between",marginLeft:"1em",marginRight:"1em"},seriesWidth:{width:"15%",marginRight:"3%"},menuItem:{justifyContent:"space-evenly"}}}));var ht=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},editCompany:function(t,a){return e(function(e,t){return function(a){return q.put("/companies/".concat(e),t).then((function(e){return Object(K.a)({},e.data)}))}}(t,a))},editEntry:function(t,a){return e(function(e,t){return function(a){return q.put("/entries/".concat(e),t).then((function(e){return Object(K.a)({},e.data)}))}}(t,a))},editUser:function(t,a){return e(function(e,t){return function(a){return q.put("/users/".concat(e),t).then((function(e){return Object(K.a)({},e.data)}))}}(t,a))},getCompaniesSelector:function(){return e(Xe())}}}))((function(e){var t=mt(),a=r.a.useState(!1),i=Object(A.a)(a,2),s=i[0],c=i[1],l=r.a.useState({}),u=Object(A.a)(l,2),d=u[0],h=u[1],b=r.a.useState([]),p=Object(A.a)(b,2),g=p[0],O=p[1],f=r.a.useState({}),v=Object(A.a)(f,2),C=v[0],y=v[1];Object(n.useEffect)((function(){"entry"===e.type&&e.getCompaniesSelector().then((function(e){O(e[0])})),h(e.data)}),[e.data]);var R=function(t){c(!1),h(e.data),y({})},N=function(e){h(Object(K.a)(Object(K.a)({},d),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)("div",{children:[Object(x.jsx)(m.a,{className:t.editButton,onClick:function(){c(!0)},children:Object(x.jsx)(ut.a,{})}),Object(x.jsxs)(S.a,{open:s,"aria-labelledby":"form-dialog-title",children:[Object(x.jsxs)("div",{className:t.buttonContainer,children:[Object(x.jsx)(T.a,{id:"form-dialog-title",children:dt.edit}),Object(x.jsx)(m.a,{onClick:R,className:t.closeIcon,children:Object(x.jsx)(B.a,{})})]}),"entry"===e.type?Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{error:C.surname,name:"surname",margin:"dense",id:"surname",label:dt.entries.surname,fullWidth:!0,value:d.surname,onChange:N}),Object(x.jsx)(j.a,{error:C.name,name:"name",margin:"dense",id:"name",label:dt.entries.name,fullWidth:!0,value:d.name,onChange:N}),Object(x.jsxs)("div",{className:t.buttonContainer,children:[Object(x.jsx)(j.a,{error:C.series,className:t.seriesWidth,name:"series",margin:"dense",id:"name",label:dt.entries.series,fullWidth:!0,value:d.series,onChange:N}),Object(x.jsx)(j.a,{error:C.number,name:"number",margin:"dense",id:"name",label:dt.entries.number,fullWidth:!0,value:d.number,onChange:N})]}),Object(x.jsx)(j.a,{error:C.email,name:"email",margin:"dense",id:"email",label:dt.entries.email,fullWidth:!0,value:d.email,onChange:N}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:C.company,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:dt.entries.company}),Object(x.jsx)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:d.company,onChange:N,name:"company",children:g.length?g.map((function(e,a){return Object(x.jsx)(Ye.a,{className:t.menuItem,value:e.name,children:e.name})})):null})]}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:C.duration,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:dt.entries.duration}),Object(x.jsx)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:d.duration,onChange:N,name:"duration",children:G.DURATION_ARRAY.map((function(e,a){return Object(x.jsx)(Ye.a,{className:t.menuItem,value:e,children:e})}))})]}),Object(x.jsx)(j.a,{error:C.phone,name:"phone",margin:"dense",id:"phone",label:dt.entries.phone,fullWidth:!0,value:d.phone,onChange:N}),Object(x.jsx)(j.a,{error:C.observations,name:"observations",margin:"dense",id:"observation",label:dt.entries.observations,fullWidth:!0,value:d.observations,onChange:N})]}):"company"===e.type?Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{error:C.name,name:"name",margin:"dense",id:"name",label:"Nume",fullWidth:!0,value:d.name,onChange:N}),Object(x.jsx)(j.a,{error:C.email,name:"email",margin:"dense",id:"email",label:"Email",fullWidth:!0,value:d.email,onChange:N}),Object(x.jsx)(j.a,{error:C.representative,name:"representative",margin:"dense",id:"representative",label:"Reprezentant",fullWidth:!0,value:d.representative,onChange:N}),Object(x.jsx)(j.a,{error:C.phone,name:"phone",margin:"dense",id:"phone",label:"Telefon",fullWidth:!0,value:d.phone,onChange:N})]}):"user"===e.type?Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{error:C.surname,name:"surname",margin:"dense",id:"surname",label:"Nume",fullWidth:!0,value:d.surname,onChange:N}),Object(x.jsx)(j.a,{error:C.name,name:"name",margin:"dense",id:"name",label:"Prenume",fullWidth:!0,value:d.name,onChange:N}),Object(x.jsx)(j.a,{error:C.email,name:"email",margin:"dense",id:"email",label:"Email",fullWidth:!0,value:d.email,onChange:N}),Object(x.jsx)(j.a,{error:C.phone,name:"phone",margin:"dense",id:"phone",label:"Telefon",fullWidth:!0,value:d.phone,onChange:N}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:C.role,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:dt.entries.role}),Object(x.jsxs)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:d.role,onChange:N,name:"role",children:[Object(x.jsx)(Ye.a,{className:t.menuItem,value:"super",children:"Super Admin"}),Object(x.jsx)(Ye.a,{className:t.menuItem,value:"user",children:"User"})]})]})]}):null,Object(x.jsxs)(k.a,{className:t.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:R,children:dt.cancel}),Object(x.jsx)(m.a,{onClick:function(){!function(){if("entry"===e.type){var t=!0,a={name:!1,surname:!1,email:!1,series:!1,number:!1,company:!1,observations:!1,phone:!1,duration:!1};Object.entries(d).forEach((function(e){var n=Object(A.a)(e,2),r=n[0],i=n[1];"surname"!==r||E.a.isAlpha(i)?"name"!==r||E.a.isAlpha(i)?"email"!==r||E.a.isEmail(i)?"company"===r&&E.a.isEmpty(i)?(t=!1,a.company=!0):"phone"!==r||E.a.isMobilePhone(i)?"series"!==r||E.a.isAlpha(i)&&i.length>0&&i.length<3?"number"!==r||E.a.isNumeric(i)&&6===i.length?"duration"===r&&E.a.isEmpty(i)&&(t=!1,a.duration=!0):(t=!1,a.number=!0):(t=!1,a.series=!0):(t=!1,a.phone=!0):(t=!1,a.email=!0):(t=!1,a.name=!0):(t=!1,a.surname=!0)})),y(a),t?JSON.stringify(e.data)!==JSON.stringify(d)?e.editEntry(e.data._id,d).then((function(t){e.getEntries(),e.createLog(e.user.name,e.user.surname,dt.tracking.edit,dt.tracking.entriesTable),L(dt.notifications.SUCCESS_EDIT),R()})).catch(oe):R():U(dt.notifications.DATA_ERROR)}else if("company"===e.type){var n=!0,r={name:!1,representative:!1,email:!1,phone:!1};Object.entries(d).forEach((function(e){var t=Object(A.a)(e,2),a=t[0],i=t[1];"name"===a&&E.a.isEmpty(i)?(n=!1,r.name=!0):"representative"!==a||E.a.isAlpha(i)?"email"!==a||E.a.isEmail(i)?"phone"!==a||E.a.isMobilePhone(i)||(n=!1,r.phone=!0):(n=!1,r.email=!0):(n=!1,r.representative=!0)})),y(r),n?JSON.stringify(e.data)!==JSON.stringify(d)?e.editCompany(e.data._id,d).then((function(t){console.log("get companies"),e.getCompanies(),e.createLog(e.user.name,e.user.surname,dt.tracking.edit,dt.tracking.companiesTable),L(dt.notifications.SUCCESS_EDIT),R()})).catch(oe):R():U(dt.notifications.DATA_ERROR)}else if("user"===e.type){var i=!0,s={name:!1,surname:!1,email:!1,phone:!1,role:!1};Object.entries(d).forEach((function(e){var t=Object(A.a)(e,2),a=t[0],n=t[1];"name"!==a||E.a.isAlpha(n)?"surname"!==a||E.a.isAlpha(n)?"email"!==a||E.a.isEmail(n)?"phone"!==a||E.a.isMobilePhone(n)?"role"===a&&E.a.isEmpty(n)&&(i=!1,s.role=!0):(i=!1,s.phone=!0):(i=!1,s.email=!0):(i=!1,s.surname=!0):(i=!1,s.name=!0)})),y(s),i?JSON.stringify(e.data)!==JSON.stringify(d)?e.editUser(e.data._id,d).then((function(t){e.getUsers(),e.createLog(e.user.name,e.user.surname,dt.tracking.edit,dt.tracking.usersTable),L(dt.notifications.SUCCESS_EDIT),R()})).catch(oe):R():U(dt.notifications.DATA_ERROR)}}()},children:dt.save})]})]})]})})),jt=a(170),bt=a.n(jt),pt=a(171),gt=a.n(pt),Ot=a(33),ft=a.n(Ot),xt=a(96),vt=a(27),Ct=a(365),yt=a(20),Rt=Object(f.a)((function(e){return{buttonContainer:{display:"flex",justifyContent:"space-between"},seriesWidth:{width:"15%",marginRight:"3%"},gridContainer:{display:"grid",width:"100%",gridTemplateAreas:"\n                          'email sign'\n                          'phone sign'\n                        ",gridTemplateColumns:"1fr 5em",gridTemplateRows:"1fr 1fr"},email:{gridArea:"email"},phone:{gridArea:"phone"},sign:{gridArea:"sign",marginTop:"2em"},closeButton:{marginRight:"1em"},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginTop:"16px",marginRight:"24px"},flexContainer:{display:"flex",justifyContent:"space-between"}}}));function Et(e){var t=r.a.useState(!1),a=Object(A.a)(t,2),i=a[0],s=a[1],o=Rt();Object(n.useEffect)((function(){s(!0)}),[e.row]);var c=function(){s(!1),e.onCloseModal()};return Object(x.jsxs)(S.a,{open:i,"aria-labelledby":"form-dialog-title",children:[Object(x.jsxs)("div",{className:o.flexContainer,children:[Object(x.jsx)(T.a,{id:"form-dialog-title",children:yt.details}),Object(x.jsx)(m.a,{onClick:c,className:o.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.name,type:"name",fullWidth:!0,value:e.row.name}),Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.surname,type:"name",fullWidth:!0,value:e.row.surname}),Object(x.jsxs)("div",{className:o.buttonContainer,children:[Object(x.jsx)(j.a,{className:o.seriesWidth,disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.series,type:"name",fullWidth:!0,value:e.row.series}),Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.number,type:"name",fullWidth:!0,value:e.row.number})]}),Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.email,type:"email",fullWidth:!0,value:e.row.email}),Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.company,type:"name",fullWidth:!0,value:e.row.company}),Object(x.jsxs)("div",{className:o.gridContainer,children:[Object(x.jsx)(j.a,{className:o.phone,disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.phone,type:"name",fullWidth:!0,value:e.row.phone}),Object(x.jsx)(be.a,{className:o.sign,canvasHeight:100,canvasWidth:70,disabled:!0,hideGrid:!0,saveData:e.row.signature,loadTimeOffset:1}),Object(x.jsx)(j.a,{className:o.email,disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.duration,type:"name",fullWidth:!0,value:e.row.duration})]}),Object(x.jsx)(j.a,{disabled:!0,autoFocus:!0,margin:"dense",id:"name",label:yt.entries.observations,type:"name",fullWidth:!0,value:e.row.observations})]}),Object(x.jsx)(k.a,{children:Object(x.jsx)(m.a,{className:o.closeButton,onClick:c,children:yt.close})})]})}var Nt=a(20),At=[{label:Nt.entries.index,minWidth:20},{label:Nt.entries.name,minWidth:20},{label:Nt.entries.surname,minWidth:20},{label:Nt.entries.email,minWidth:20},{label:Nt.entries.date,minWidth:20},{label:Nt.entries.company,minWidth:20},{label:Nt.entries.actions,minWidth:10}],St=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={classes:"",page:0,rowsPerPage:G.INITIAL_ROWS_PER_PAGE,entries:[],startDate:ft()().startOf("day").toDate(),endDate:ft()().endOf("day").toDate(),count:0,csvData:[],showFilterIcon:!1,currentRow:{}},e.getEntries=function(){e.props.getEntries(e.state.page,e.state.rowsPerPage,e.state.startDate,e.state.endDate).then((function(t){var a=[];t[0].map((function(e,t){var n;a[t]=(n={},Object(o.a)(n,Nt.entries.surname,e.surname),Object(o.a)(n,Nt.entries.name,e.name),Object(o.a)(n,Nt.entries.number,e.number),Object(o.a)(n,Nt.entries.series,e.series),Object(o.a)(n,Nt.entries.email,e.email),Object(o.a)(n,Nt.entries.phone,e.phone),Object(o.a)(n,Nt.entries.company,e.company),Object(o.a)(n,Nt.entries.duration,e.duration),Object(o.a)(n,Nt.entries.date,e.date),Object(o.a)(n,Nt.entries.observations,e.observations),n)})),e.setState({entries:t[0],count:t[1],csvData:a})})).catch(oe)},e.setInitialDate=function(){e.initialDate=ft()().startOf("day").toDate()},e.handleChangePage=function(t,a){e.setState({page:a},(function(){e.getEntries()}))},e.handleChangeRowsPerPage=function(t){e.setState({rowsPerPage:parseInt(t.target.value,G.PARSE_INT_RADIX),page:0},(function(){e.getEntries()}))},e.onDeleteButton=function(t){e.props.deleteEntry(t).then((function(t){L(Nt.notifications.SUCCESS_EDIT),e.getEntries(),e.props.createLog(e.props.user.name,e.props.user.surname,Nt.tracking.delete,Nt.tracking.entriesTable)})).catch(oe)},e.onCloseFilter=function(t){t.stopPropagation(),e.setState({showFilterIcon:!1,startDate:e.initialDate,endDate:ft()().endOf("day").toDate()},(function(){e.handleChangePage(t,0)}))},e.onFilterClick=function(){e.state.startDate>e.state.endDate?U(Nt.notifications.DATE_ERROR):ft()(e.initialDate).isSame(e.state.startDate)?(e.setState({showFilterIcon:!1}),e.getEntries()):(e.getEntries(),e.setState({showFilterIcon:!0}))},e.onArrowClick=function(t){var a,n;if(t===Nt.NEXT?(a=ft()(e.state.startDate).add(1,"days").toDate(),n=ft()(e.state.endDate).add(1,"days").toDate()):(a=ft()(e.state.startDate).subtract(1,"days").toDate(),n=ft()(e.state.endDate).subtract(1,"days").toDate()),ft()(a).isAfter(e.initialDate))return U(Nt.notifications.DATE_ERROR);e.setState({startDate:a,endDate:n},(function(){e.onFilterClick()}))},e.onCloseModal=function(){e.setState({currentRow:{}})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setInitialDate(),this.getEntries()}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(x.jsxs)("div",{children:[Object(x.jsx)(ze,{path:this.props.location.pathname}),Object(x.jsxs)("div",{className:t.root,children:[Object(x.jsxs)("div",{className:t.dateSelector,children:[Object(x.jsx)(m.a,{className:t.arrowButton,children:Object(x.jsx)(bt.a,{onClick:function(){e.onArrowClick(Nt.PREV)}})}),Object(x.jsx)(vt.a,{utils:xt.a,children:Object(x.jsx)(b.a,{container:!0,children:Object(x.jsx)(Ct.a,{autoOk:!0,maxDate:new Date,variant:"inline",format:Nt.dateFormat,margin:"normal",id:"date-picker-inline",label:Nt.sort,value:this.state.startDate,onChange:function(t){e.setState({startDate:t,endDate:ft()(t).endOf("day").toDate()},e.onFilterClick())},KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(x.jsx)(m.a,{className:t.arrowButton,children:Object(x.jsx)(gt.a,{onClick:function(){e.onArrowClick(Nt.NEXT)}})})]}),Object(x.jsx)("div",{className:t.datepicker,children:Object(x.jsx)(vt.a,{utils:xt.a,children:Object(x.jsx)(b.a,{container:!0,children:Object(x.jsx)(Ct.a,{autoOk:!0,maxDate:new Date,variant:"inline",format:Nt.dateFormat,margin:"normal",id:"date-picker-inline",label:Nt.startDate,value:this.state.startDate,onChange:function(t){e.setState({startDate:t})},KeyboardButtonProps:{"aria-label":"change date"}})})})}),Object(x.jsx)("div",{className:t.datepicker,children:Object(x.jsx)(vt.a,{utils:xt.a,children:Object(x.jsx)(b.a,{container:!0,children:Object(x.jsx)(Ct.a,{autoOk:!0,maxDate:new Date,variant:"inline",format:Nt.dateFormat,margin:"normal",id:"date-picker-inline",label:Nt.endDate,value:this.state.endDate,onChange:function(t){e.setState({endDate:t})},KeyboardButtonProps:{"aria-label":"change date"}})})})}),Object(x.jsx)("div",{children:Object(x.jsxs)(m.a,{className:t.filter,onClick:function(){return e.onFilterClick()},children:[Nt.filter,!0===this.state.showFilterIcon?Object(x.jsx)(m.a,{onClick:function(t){return e.onCloseFilter(t)},className:t.filterCloseButton,children:Object(x.jsx)(B.a,{className:t.filterCloseIcon})}):null]})}),Object(x.jsx)(Te,{type:"export",data:this.state.csvData})]}),0!==Object.keys(this.state.currentRow).length?Object(x.jsx)(Et,{row:this.state.currentRow,onCloseModal:this.onCloseModal}):null,Object(x.jsxs)("div",{className:t.table,children:[Object(x.jsx)(nt.a,{children:Object(x.jsxs)(et.a,{className:t.tablePadding,children:[Object(x.jsx)(rt.a,{children:Object(x.jsx)(it.a,{children:At.map((function(e){return Object(x.jsx)(at.a,{size:"small",align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(x.jsx)(tt.a,{children:this.state.entries.map((function(a,n){return Object(x.jsxs)(it.a,{hover:!0,className:t.selectableRows,onClick:function(t){t.target.tagName&&"td"===t.target.tagName.toLowerCase()&&e.setState({currentRow:a})},children:[Object(x.jsx)(at.a,{children:e.state.page*e.state.rowsPerPage+n+1}),Object(x.jsx)(at.a,{children:a.surname}),Object(x.jsx)(at.a,{children:a.name}),Object(x.jsx)(at.a,{children:a.email}),Object(x.jsx)(at.a,{children:Object(x.jsx)(ot.a,{format:G.DATE_FORMAT,children:a.date})}),Object(x.jsx)(at.a,{children:a.company}),Object(x.jsx)(at.a,{children:Object(x.jsxs)("div",{className:t.actions,children:[Object(x.jsx)(ht,{type:"entry",data:a,getEntries:e.getEntries}),Object(x.jsx)(Te,{type:"delete",onDeleteButton:function(){return e.onDeleteButton(a._id)}})]})})]})}))})]})}),Object(x.jsx)(ct.a,{component:"div",className:t.paginationMargin,count:this.state.count,rowsPerPageOptions:G.ROWS_PER_PAGE_ARRAY,page:this.state.page,onChangePage:this.handleChangePage,rowsPerPage:this.state.rowsPerPage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]})]})}}]),a}(r.a.Component),kt=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},deleteEntry:function(t){return e(function(e){return function(t){return q.delete("/entries/".concat(e)).then((function(e){return Object(K.a)({},e.data)}))}}(t))},getEntries:function(t,a,n,r){return e(function(e,t,a,n){return function(r){return q.get("/entries/?page=".concat(e,"&rows=").concat(t,"&start=").concat(a,"&end=").concat(n)).then((function(e){return Object(K.a)({},e.data)}))}}(t,a,n,r))}}}))(Object(N.a)((function(e){return{root:{justifyContent:"flex-end",display:"flex",paddingBottom:"1.7em",marginRight:"2.5%",marginLeft:"2.5%"},datepicker:{zIndex:"100",marginRight:"0.3rem",width:"9rem",marginLeft:"1em"},dateSelector:{display:"flex",marginRight:"auto",width:"12rem"},actions:Object(o.a)({display:"flex"},"@media (max-width: 1300px)",{display:"block"}),logout:{marginRight:"auto"},table:Object(o.a)({},"@media (min-width: 1200px)",{width:"100%"}),filterCloseButton:{margin:"0",marginLeft:"0.3rem",height:"1rem",width:"1rem",minWidth:"1rem"},filterCloseIcon:{height:"1.2rem"},filter:{marginLeft:"0.7rem",marginTop:"2em",marginRight:"0.7em"},arrowButton:{marginTop:"2.5em",marginRight:"0.2em",backgroundColor:"inherit","&:hover":{backgroundColor:"#DADADA"},color:"black",height:"1.5rem",width:"1.5rem",minWidth:"1rem"},selectableRows:{cursor:"pointer"},tablePadding:{width:"95%",marginLeft:"auto",marginRight:"auto"},paginationMargin:{marginRight:"2.5%"}}}))(St)),Dt=a(173),wt=Object(Dt.a)({overrides:{MuiTableCell:{head:{fontSize:20,fontWeight:"bold",backgroundColor:"white",color:"black"},body:{fontSize:14}},MuiTableRow:{root:{backgroundColor:"white"}},MuiButton:{root:{backgroundColor:"#3f50b5",color:"white","&:hover":{backgroundColor:"#0e24a1"}}}}}),It=a(364),Tt=a(20),_t=Object(f.a)((function(e){var t;return{resetLink:{color:"#3f50b5",display:"flex",justifyContent:"flex-end",marginTop:"2%",cursor:"pointer",fontSize:"1.05rem","&:hover":{color:"#0e24a1"}},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginRight:"24px",marginTop:"16px"},buttonContainer:{display:"flex",justifyContent:"space-between"},createButton:{display:"flex",justifyContent:"flex-end",marginRight:"2.5%",marginTop:"1.5em",marginBottom:"1.3em"},actionsContainer:(t={display:"flex",justifyContent:"space-between",marginLeft:"1em"},Object(o.a)(t,"marginLeft","1em"),Object(o.a)(t,"marginRight","1em"),t)}}));var Pt=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},createCompany:function(t){return e(function(e){return function(t){return q.post("/companies",{newCompany:e}).then((function(e){return Object(K.a)({},e.data)}))}}(t))}}}))((function(e){var t={name:{value:"",error:!1},representative:{value:"",error:!1},phone:{value:"",error:!1},email:{value:"",error:!1}},a=r.a.useState(!1),n=Object(A.a)(a,2),i=n[0],s=n[1],c=r.a.useState(t),l=Object(A.a)(c,2),u=l[0],d=l[1],h=_t(),b=function(){d(t),s(!1)},p=function(e){d(Object(K.a)(Object(K.a)({},u),{},Object(o.a)({},e.target.name,{value:e.target.value,error:!1})))};return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:h.createButton,children:Object(x.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){s(!0)},children:Tt.addCompany})}),Object(x.jsxs)(S.a,{open:i,"aria-labelledby":"form-dialog-title",children:[Object(x.jsxs)("div",{className:h.buttonContainer,children:[Object(x.jsx)(T.a,{id:"form-dialog-title",children:Tt.addCompany}),Object(x.jsx)(m.a,{onClick:b,className:h.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{error:u.name.error,name:"name",autoFocus:!0,margin:"dense",label:Tt.companies.name,fullWidth:!0,onChange:p}),Object(x.jsx)(j.a,{error:u.representative.error,name:"representative",margin:"dense",label:Tt.companies.representative,fullWidth:!0,onChange:p}),Object(x.jsx)(j.a,{error:u.phone.error,name:"phone",margin:"dense",label:Tt.companies.phone,fullWidth:!0,onChange:p}),Object(x.jsx)(j.a,{error:u.email.error,name:"email",margin:"dense",label:Tt.companies.email,fullWidth:!0,onChange:p})]}),Object(x.jsxs)(k.a,{className:h.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:b,children:Tt.cancel}),Object(x.jsx)(m.a,{onClick:function(){var t=!0,a={name:u.name,representative:u.representative,phone:u.phone,email:u.email};if(Object.entries(u).forEach((function(e){var n=Object(A.a)(e,2),r=n[0],i=n[1];"name"===r&&E.a.isEmpty(i.value)?(t=!1,a.name={value:i.value,error:!0}):"representative"!==r||E.a.isAlpha(i.value)?"phone"!==r||E.a.isMobilePhone(i.value)?"email"!==r||E.a.isEmail(i.value)||(t=!1,a.email={value:i.value,error:!0}):(t=!1,a.phone={value:i.value,error:!0}):(t=!1,a.representative={value:i.value,error:!0})})),d(a),!0===t){var n={name:u.name.value,representative:u.representative.value,phone:u.phone.value,email:u.email.value};e.createCompany(n).then((function(t){L(Tt.notifications.SUCCESS_ADD_COMPANY),e.getCompanies(),b(),e.createLog(e.user.name,e.user.surname,Tt.tracking.add,Tt.tracking.companiesTable)})).catch(oe)}else U(Tt.notifications.DATA_ERROR)},color:"primary",variant:"contained",children:Tt.add})]})]})]})})),Wt=a(20),Lt=Object(f.a)((function(e){return{actions:Object(o.a)({display:"flex"},"@media (max-width: 1300px)",{display:"block"}),table:Object(o.a)({},"@media (min-width: 1200px)",{width:"100%"}),createButton:{display:"flex",justifyContent:"flex-end",margin:"1.3em"},tablePadding:{width:"95%",marginLeft:"auto",marginRight:"auto"},paginationMargin:{marginRight:"2.5%"}}}));var Ut=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},getCompanies:function(t,a){return e(Xe(t,a))},deleteCompany:function(t){return e(function(e){return function(t){return q.delete("/companies/".concat(e)).then((function(e){return Object(K.a)({},e.data)}))}}(t))}}}))((function(e){var t=r.a.useState([]),a=Object(A.a)(t,2),i=a[0],s=a[1],o=r.a.useState(0),c=Object(A.a)(o,2),l=c[0],u=c[1],d=r.a.useState(G.INITIAL_ROWS_PER_PAGE),m=Object(A.a)(d,2),h=m[0],j=m[1],b=r.a.useState(0),p=Object(A.a)(b,2),g=p[0],O=p[1],f=Lt(),v=[{label:Wt.companies.index,minWidth:20},{label:Wt.companies.name,minWidth:20},{label:Wt.companies.representative,minWidth:20},{label:Wt.companies.phone,minWidth:20},{label:Wt.companies.email,minWidth:20},{label:Wt.companies.actions,minWidth:20}];Object(n.useEffect)((function(){C()}),[l,h,g]);var C=function(){e.getCompanies(l,h).then((function(e){s(e[0]),O(e[1])})).catch(oe)};return Object(x.jsxs)("div",{className:f.table,children:[Object(x.jsx)(ze,{path:e.location.pathname}),Object(x.jsx)(Pt,{getCompanies:C}),Object(x.jsx)(nt.a,{children:Object(x.jsxs)(et.a,{className:f.tablePadding,children:[Object(x.jsx)(rt.a,{children:Object(x.jsx)(it.a,{children:v.map((function(e){return Object(x.jsx)(at.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(x.jsx)(tt.a,{children:i.map((function(t,a){return Object(x.jsxs)(it.a,{children:[Object(x.jsx)(at.a,{children:l*h+a+1}),Object(x.jsx)(at.a,{children:t.name}),Object(x.jsx)(at.a,{children:t.representative}),Object(x.jsx)(at.a,{children:t.phone}),Object(x.jsx)(at.a,{children:t.email}),Object(x.jsx)(at.a,{children:Object(x.jsxs)("div",{className:f.actions,children:[Object(x.jsx)(ht,{type:"company",data:t,getCompanies:function(){return C()}}),Object(x.jsx)(Te,{type:"delete",onDeleteButton:function(){return a=t._id,void e.deleteCompany(a).then((function(t){L(Wt.notifications.SUCCESS_EDIT),C(),e.createLog(e.user.name,e.user.surname,Wt.tracking.delete,Wt.tracking.companiesTable).catch(oe)}));var a}})]})})]})}))})]})}),Object(x.jsx)(ct.a,{className:f.paginationMargin,component:"div",count:g,rowsPerPageOptions:G.ROWS_PER_PAGE_ARRAY,page:l,onChangePage:function(e,t){u(t)},rowsPerPage:h,onChangeRowsPerPage:function(e){j(parseInt(e.target.value,G.PARSE_INT_RADIX)),u(0)}})]})})),Ft=a(20),Bt=Object(f.a)((function(e){return{actions:Object(o.a)({display:"flex"},"@media (max-width: 1300px)",{display:"block"}),table:Object(o.a)({},"@media (min-width: 1200px)",{width:"100%"}),createButton:{display:"flex",justifyContent:"flex-end",margin:"1.3em"},tablePadding:{width:"95%",marginLeft:"auto",marginRight:"auto"},paginationMargin:{marginRight:"2.5%"}}}));var Mt=Object(M.b)(null,(function(e){return{getLogs:function(t,a){return e(function(e,t){return function(a){return q.get("/tracking/?page=".concat(e,"&rows=").concat(t)).then((function(e){return Object(K.a)({},e.data)}))}}(t,a))}}}))((function(e){var t=r.a.useState([]),a=Object(A.a)(t,2),i=a[0],s=a[1],o=r.a.useState(0),c=Object(A.a)(o,2),l=c[0],u=c[1],d=r.a.useState(G.INITIAL_ROWS_PER_PAGE),m=Object(A.a)(d,2),h=m[0],j=m[1],b=r.a.useState(0),p=Object(A.a)(b,2),g=p[0],O=p[1],f=Bt(),v=[{label:Ft.tracking.index,minWidth:20},{label:Ft.tracking.name,minWidth:20},{label:Ft.tracking.surname,minWidth:20},{label:Ft.tracking.action,minWidth:20},{label:Ft.tracking.date,minWidth:20},{label:Ft.tracking.table,minWidth:20}];return Object(n.useEffect)((function(){e.getLogs(l,h).then((function(e){s(e[0]),O(e[1])})).catch(oe)}),[l,h,g]),Object(x.jsxs)("div",{children:[Object(x.jsx)(ze,{path:e.location.pathname}),Object(x.jsxs)("div",{className:f.table,children:[Object(x.jsx)(nt.a,{children:Object(x.jsxs)(et.a,{className:f.tablePadding,children:[Object(x.jsx)(rt.a,{children:Object(x.jsx)(it.a,{children:v.map((function(e){return Object(x.jsx)(at.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(x.jsx)(tt.a,{children:i?i.map((function(e,t){return Object(x.jsxs)(it.a,{children:[Object(x.jsx)(at.a,{size:"small",children:l*h+t+1}),Object(x.jsx)(at.a,{size:"small",children:e.name}),Object(x.jsx)(at.a,{size:"small",children:e.surname}),Object(x.jsx)(at.a,{size:"small",children:e.action}),Object(x.jsx)(at.a,{size:"small",children:Object(x.jsx)(ot.a,{format:G.DATE_FORMAT,children:e.date})}),Object(x.jsx)(at.a,{children:e.table})]})})):null})]})}),Object(x.jsx)(ct.a,{className:f.paginationMargin,component:"div",count:g,rowsPerPageOptions:G.ROWS_PER_PAGE_ARRAY,page:l,onChangePage:function(e,t){u(t)},rowsPerPage:h,onChangeRowsPerPage:function(e){j(parseInt(e.target.value,G.PARSE_INT_RADIX)),u(0)}})]})]})})),zt=a(20),Gt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={name:"",surname:"",email:"",phone:"",password:"",role:"",fields:{errorName:!1,errorSurname:!1,errorEmail:!1,errorCompany:!1,errorPhone:!1,errorRole:!1},open:!1},e.handleRegister=function(){var t=!0,a={errorName:!1,errorSurname:!1,errorEmail:!1,errorCompany:!1,errorPhone:!1,errorRole:!1};if(Object.entries(e.state.fields).forEach((function(n){var r=Object(A.a)(n,2),i=r[0];r[1];switch(i){case"errorSurname":E.a.isAlpha(e.state.surname)||(t=!1,a.errorSurname=!0);break;case"errorName":E.a.isAlpha(e.state.name)||(t=!1,a.errorName=!0);break;case"errorEmail":E.a.isEmail(e.state.email)||(t=!1,a.errorEmail=!0);break;case"errorPhone":E.a.isMobilePhone(e.state.phone)||(t=!1,a.errorPhone=!0);break;case"errorRole":E.a.isEmpty(e.state.role)&&(t=!1,a.errorRole=!0)}})),e.setState({fields:a}),t){var n={name:e.state.name,surname:e.state.surname,email:e.state.email,phone:e.state.phone,role:e.state.role,password:e.state.password};e.props.createUser(n).then((function(t){L(zt.notifications.ADMIN_REGISTRATION),e.props.getUsers(),e.setState({name:"",surname:"",email:"",phone:"",password:"",role:""}),e.props.createLog(e.props.user.name,e.props.user.surname,zt.tracking.add,zt.tracking.usersTable),e.handleClose()})).catch(oe)}else U(zt.notifications.ADMIN_FAIL_REGISTRATION)},e.onChange=function(t){e.setState(Object(o.a)({},t.target.name,t.target.value))},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:e.createButton,children:Object(x.jsx)(m.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen,children:zt.addUser})}),Object(x.jsxs)(S.a,{open:this.state.open,"aria-labelledby":"form-dialog-title",children:[Object(x.jsxs)("div",{className:e.buttonContainer,children:[Object(x.jsx)(T.a,{id:"form-dialog-title",children:zt.addUser}),Object(x.jsx)(m.a,{onClick:this.handleClose,className:e.closeIcon,children:Object(x.jsx)(B.a,{})})]}),Object(x.jsxs)(D.a,{children:[Object(x.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:zt.entries.surname,name:"surname",autoComplete:"surname",autoFocus:!0,onChange:this.onChange,value:this.state.surname,error:this.state.fields.errorSurname}),Object(x.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,name:"name",label:zt.entries.name,type:"name",id:"name",autoComplete:"name",onChange:this.onChange,value:this.state.name,error:this.state.fields.errorName}),Object(x.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:zt.entries.email,name:"email",autoComplete:"email",onChange:this.onChange,value:this.state.email,error:this.state.fields.errorEmail}),Object(x.jsx)(j.a,{margin:"normal",required:!0,fullWidth:!0,name:"phone",label:zt.entries.phone,id:"phone",autoComplete:"phone",onChange:this.onChange,value:this.state.phone,error:this.state.fields.errorPhone}),Object(x.jsxs)(qe.a,{fullWidth:!0,required:!0,margin:"normal",error:this.state.fields.errorRole,children:[Object(x.jsx)(Ge.a,{id:"demo-simple-select-outlined-label",children:zt.entries.role}),Object(x.jsxs)(He.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:this.state.role,onChange:this.onChange,name:"role",label:"Age",children:[Object(x.jsx)(Ye.a,{value:"super",children:"Super Admin"}),Object(x.jsx)(Ye.a,{value:"user",children:"User"})]})]})]}),Object(x.jsxs)(k.a,{className:e.actionsContainer,children:[Object(x.jsx)(m.a,{color:"default",variant:"contained",onClick:this.handleClose,children:zt.cancel}),Object(x.jsx)(m.a,{onClick:this.handleRegister,color:"primary",variant:"contained",children:zt.add})]})]})]})}}]),a}(r.a.Component),Yt=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},createUser:function(t){return e(function(e){return function(t){return q.post("/users",{user:e}).then((function(e){return Object(K.a)({},e.data)}))}}(t))}}}))(Object(N.a)((function(e){return{buttonContainer:{display:"flex",justifyContent:"space-between"},createButton:{display:"flex",justifyContent:"flex-end",margin:"2.5%",marginTop:"1.5em",marginBottom:"1.3em"},closeIcon:{backgroundColor:"inherit",color:"black","&:hover":{backgroundColor:"#DADADA"},height:"2.3rem",width:"2.3rem",minWidth:"1rem",marginRight:"24px",marginTop:"16px"},actionsContainer:{display:"flex",justifyContent:"space-between",marginLeft:"1em",marginRight:"1em"}}}))(Gt)),qt=a(20),Ht=Object(f.a)((function(e){return{actions:Object(o.a)({display:"flex"},"@media (max-width: 1300px)",{display:"block"}),table:Object(o.a)({},"@media (min-width: 1200px)",{width:"100%"}),tablePadding:{width:"95%",marginLeft:"auto",marginRight:"auto"},paginationMargin:{marginRight:"2.5%"}}}));var Xt=Object(M.b)((function(e){return{user:e.user}}),(function(e){return{createLog:function(t,a,n,r){return e(de(t,a,n,r))},getUsers:function(t,a){return e(function(e,t){return function(a){return q.get("/users/?page=".concat(e,"&rows=").concat(t)).then((function(e){return Object(K.a)({},e.data)}))}}(t,a))},deleteUser:function(t){return e(function(e){return function(t){return q.delete("/users/".concat(e)).then((function(e){return Object(K.a)({},e.data)}))}}(t))}}}))((function(e){var t=r.a.useState([]),a=Object(A.a)(t,2),i=a[0],s=a[1],o=r.a.useState(0),c=Object(A.a)(o,2),l=c[0],u=c[1],d=r.a.useState(G.INITIAL_ROWS_PER_PAGE),m=Object(A.a)(d,2),h=m[0],j=m[1],b=r.a.useState(0),p=Object(A.a)(b,2),g=p[0],O=p[1],f=Ht(),v=[{label:qt.entries.index,minWidth:20},{label:qt.entries.name,minWidth:20},{label:qt.entries.surname,minWidth:20},{label:qt.entries.email,minWidth:20},{label:qt.entries.date,minWidth:20},{label:qt.entries.phone,minWidth:20},{label:qt.entries.role,minWidth:20},{label:qt.entries.actions,minWidth:20}];Object(n.useEffect)((function(){C()}),[l,h,g]);var C=function(){e.getUsers(l,h).then((function(e){s(e[0]),O(e[1])})).catch(oe)};return Object(x.jsxs)("div",{children:[Object(x.jsx)(ze,{path:e.location.pathname}),Object(x.jsx)(Yt,{getUsers:C}),Object(x.jsxs)("div",{className:f.table,children:[Object(x.jsx)(nt.a,{children:Object(x.jsxs)(et.a,{className:f.tablePadding,children:[Object(x.jsx)(rt.a,{children:Object(x.jsx)(it.a,{children:v.map((function(e){return Object(x.jsx)(at.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(x.jsx)(tt.a,{children:i?i.map((function(t,a){return Object(x.jsxs)(it.a,{children:[Object(x.jsx)(at.a,{children:l*h+a+1}),Object(x.jsx)(at.a,{children:t.name}),Object(x.jsx)(at.a,{children:t.surname}),Object(x.jsx)(at.a,{children:t.email}),Object(x.jsx)(at.a,{children:Object(x.jsx)(ot.a,{format:G.DATE_FORMAT,children:t.date})}),Object(x.jsx)(at.a,{children:t.phone}),Object(x.jsx)(at.a,{children:t.role}),Object(x.jsx)(at.a,{children:Object(x.jsxs)("div",{className:f.actions,children:[Object(x.jsx)(ht,{type:"user",data:t,getUsers:function(){return C()}}),Object(x.jsx)(Te,{type:"delete",onDeleteButton:function(){return a=t._id,void e.deleteUser(a).then((function(t){L(qt.notifications.SUCCESS_EDIT),C(),e.createLog(e.user.name,e.user.surname,qt.tracking.delete,qt.tracking.usersTable)})).catch(oe);var a}})]})})]})})):null})]})}),Object(x.jsx)(ct.a,{className:f.paginationMargin,component:"div",count:g,rowsPerPageOptions:G.ROWS_PER_PAGE_ARRAY,page:l,onChangePage:function(e,t){u(t)},rowsPerPage:h,onChangeRowsPerPage:function(e){j(parseInt(e.target.value,G.PARSE_INT_RADIX)),u(0)}})]})]})}));var Kt=Object(M.b)((function(e){return{user:e.user}}))((function(e){return Object(x.jsx)(It.a,{theme:wt,children:Object(x.jsx)($e.a,{children:"user"===e.user.role?Object(x.jsxs)(Ee.d,{children:[Object(x.jsx)(Ee.b,{exact:!0,path:"/",component:je}),Object(x.jsx)(Ee.b,{exact:!0,path:"/entries",component:kt}),Object(x.jsx)(Ee.b,{exact:!0,path:"/tablet",component:Je}),Object(x.jsx)(Ee.b,{exact:!0,path:"/reset/:TOKEN/:ID",component:Qe}),Object(x.jsx)(Ee.a,{to:"/entries"})]}):"super"===e.user.role?Object(x.jsxs)(Ee.d,{children:[Object(x.jsx)(Ee.b,{exact:!0,path:"/entries",component:kt}),Object(x.jsx)(Ee.b,{exact:!0,path:"/",component:je}),Object(x.jsx)(Ee.b,{exact:!0,path:"/companies",component:Ut}),Object(x.jsx)(Ee.b,{exact:!0,path:"/reset/:TOKEN/:ID",component:Qe}),Object(x.jsx)(Ee.b,{exact:!0,path:"/tracking",component:Mt}),Object(x.jsx)(Ee.b,{exact:!0,path:"/users",component:Xt}),Object(x.jsx)(Ee.a,{to:"/tracking"})]}):Object(x.jsxs)(Ee.d,{children:[Object(x.jsx)(Ee.b,{exact:!0,path:"/",component:je}),Object(x.jsx)(Ee.b,{exact:!0,path:"/tablet",component:Je}),Object(x.jsx)(Ee.b,{exact:!0,path:"/reset/:TOKEN/:ID",component:Qe}),Object(x.jsx)(Ee.a,{to:"/"})]})})})})),Vt=a(172);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(M.a,{store:re,children:Object(x.jsx)(Vt.a,{loading:null,persistor:ie,children:Object(x.jsx)(Kt,{})})})}),document.getElementById("root"));t.default=Kt}},[[311,1,2]]]);
//# sourceMappingURL=main.5468a872.chunk.js.map